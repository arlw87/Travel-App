(()=>{"use strict";var e={709:(e,t,r)=>{e.exports=r.p+"6a88d6cc138007e5770e.png"},186:(e,t,r)=>{e.exports=r.p+"8afec4b4a994dbd0e696.png"}},t={};function r(o){if(t[o])return t[o].exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e=r(186),t=r(709);const o=e=>{const t=document.querySelector(".error-handler-background");t.classList.add("error-display"),t.classList.remove("error-non-display"),document.querySelector(".error-handler-message-box p").innerHTML=e};document.querySelector(".error-button").addEventListener("click",(e=>{const t=document.querySelector(".error-handler-background");t.classList.remove("error-display"),t.classList.add("error-non-display")}));let s=null;const n=()=>s,a=e=>{e.preventDefault();const t=document.querySelector("#destination").value,r=document.querySelector("#date").value;if(!(e=>Date.parse(e)-Date.now()>0)(r))return void o("Date must be in the future");if(n=t,!new RegExp("^[a-zA-Z][A-Za-z,\\s]*$").test(n))return void o("Invalid place name");var n;const a={destination:t,date:r};h()?l():(console.log("second search"),f(),d()),i("/query",a).then((e=>{"failure"!==e.status?(p(e),s=e):c(e.message)})).catch((e=>{c("Error with search request")}))},c=e=>{o(e),m(),v(),document.querySelector("form").classList.contains("transformEndPosition")&&S()},i=async(e,t)=>{const r=await fetch(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)});try{return await r.json()}catch(e){throw Error(e)}},l=()=>{u();const e=document.querySelector(".loader");e.classList.contains("loader-animation-translate-rotate")||(e.classList.add("loader-animation-translate-rotate"),e.classList.remove("loader-animation-rotate"))},d=()=>{u();const e=document.querySelector(".loader");e.classList.contains("loader-animation-translate-rotate")&&(e.classList.remove("loader-animation-translate-rotate"),e.classList.add("loader-animation-rotate"))},u=()=>{const e=document.querySelector(".loader");e.classList.add("display-flex"),e.classList.remove("display-none")},m=()=>{const e=document.querySelector(".loader");e.classList.remove("display-flex"),e.classList.add("display-none")},p=e=>{const t=document.querySelector(".results-image"),r=document.querySelector(".locationHeader"),o=document.querySelector(".time-to-trip > p"),s=document.querySelector(".weather-details > h3"),n=document.querySelector(".weather-icon"),a=document.querySelector(".temperature-details-temps"),c=e.response.imageUrl,i=e.response.location.place,l=e.response.daysToTrip,d=e.response.weather.description,u=e.response.weather.iconUrl,p=e.response.weather.highTemp,S=e.response.weather.lowTemp;t.style.cssText=`background-image: url(${c});`,r.innerHTML=i,s.innerHTML=d,n.src=u,a.innerHTML=`${p} / ${S} &deg C`,o.innerHTML=` ${l}   days until your trip`,h()?(document.querySelector("form").classList.add("transformEndPosition"),document.querySelector("#form-section > h2").classList.add("transformEndPosition"),document.querySelector("form").classList.remove("transformStartPosition"),document.querySelector("#form-section > h2").classList.remove("transformStartPosition")):y(),m(),v()};document.querySelector("form").addEventListener("animationend",(e=>{y()}));const y=()=>{document.querySelector(".results").classList.remove("display-none"),document.querySelector(".results").classList.add("display-flex")},h=()=>document.querySelector("form").classList.contains("transformStartPosition"),v=()=>{document.querySelector("form").reset()},S=()=>{f(),document.querySelector("form").classList.remove("transformEndPosition"),document.querySelector("#form-section > h2").classList.remove("transformEndPosition"),document.querySelector("form").classList.add("transformStartPosition"),document.querySelector("#form-section > h2").classList.add("transformStartPosition")},f=()=>{document.querySelector(".results").classList.add("display-none"),document.querySelector(".results").classList.remove("display-flex")},L=e=>{const t=n();if(null==t)return void alert("error adding trip results");const r=t.response.imageUrl,o=t.response.location.place,s=t.response.daysToTrip,a=t.response.weather.description,c=t.response.weather.iconUrl,i=t.response.weather.highTemp,l=t.response.weather.lowTemp,d=q(o,s,c,a,i,l,r),u=document.querySelector("#travel-log");u.classList.contains("section-display-none")&&(u.classList.remove("section-display-none"),u.classList.add("section-display-flex")),d.scrollIntoView({behavior:"smooth",block:"start",inline:"start"}),setTimeout(S,500)},q=(r,o,s,n,a,c,i)=>{let l=g(`<div class="travel-card display-flex shadow">\n      <div class="card-image">\n        <h2 class="locationHeader">${r}</h2>\n      </div>\n      <div class ="card-text">\n        <div class="card-time-to-trip">\n          <img src=${t}>\n          <p>${o}   days until trip</p>\n        </div>\n        <div class="card-divider"></div>\n        <div class="card-weather-section">\n          <img class="card-weather-icon" src="${s}">\n          <div class="card-weather-details">\n            <h3>${n}</h3>\n            <div class="card-temperature-details">\n              <img class="card-temperature-details-image" src=${e}>\n              <h4 class="card-temperature-details-temps">${a} / ${c} &deg C</h4>\n            </div>\n          </div>\n        </div>\n        <button class="remove-trip" >Remove Trip</button>\n      </div>\n      </div>`);l.querySelector(".card-image").style.cssText=`background-image: url(${i});`,l.querySelector(".remove-trip").addEventListener("click",(e=>{e.target.parentElement.parentElement.remove()}));const d=document.querySelector(".add-new-trip");return d.parentElement.insertBefore(l,d),l},g=e=>{let t=document.createElement("template");const r=e.trim();return t.innerHTML=r,t.content.firstChild};document.querySelector(".add-new-trip").addEventListener("click",(e=>{document.querySelector("#form-section").scrollIntoView({behavior:"smooth"})})),document.addEventListener("DOMContentLoaded",(e=>{(()=>{const e=document.querySelector("#form-section");document.querySelector(".call-to-action").addEventListener("click",(t=>{e.scrollIntoView({behavior:"smooth"})}))})();document.querySelector(".results button").addEventListener("click",L);document.querySelector("#search").addEventListener("click",a)}))})()})();