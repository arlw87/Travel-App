(()=>{"use strict";var e={709:(e,t,r)=>{e.exports=r.p+"6a88d6cc138007e5770e.png"},186:(e,t,r)=>{e.exports=r.p+"8afec4b4a994dbd0e696.png"}},t={};function r(o){if(t[o])return t[o].exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={};r.r(e),r.d(e,{O7:()=>c,ii:()=>i,DQ:()=>L});var t=r(186),o=r(709);const s=e=>{const t=document.querySelector(".error-handler-background");t.classList.add("error-display"),t.classList.remove("error-non-display"),document.querySelector(".error-handler-message-box p").innerHTML=e},n=e=>{const t=document.querySelector(".error-handler-background");t.classList.remove("error-display"),t.classList.add("error-non-display")};let a=null;const c=()=>a,i=e=>{e.preventDefault();const t=document.querySelector("#destination").value,r=document.querySelector("#date").value;if(!(e=>Date.parse(e)-Date.now()>0)(r))return void s("Date must be in the future");if(o=t,!new RegExp("^[a-zA-Z][A-Za-z,\\s]*$").test(o))return void s("Invalid place name");var o;const n={destination:t,date:r};S()?u():(console.log("second search"),q(),m()),d("/query",n).then((e=>{"failure"!==e.status?(v(e),a=e):l(e.message)})).catch((e=>{l("Error with search request")}))},l=e=>{s(e),y(),f(),document.querySelector("form").classList.contains("transformEndPosition")&&L()},d=async(e,t)=>{const r=await fetch(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)});try{return await r.json()}catch(e){throw Error(e)}},u=()=>{p();const e=document.querySelector(".loader");e.classList.contains("loader-animation-translate-rotate")||(e.classList.add("loader-animation-translate-rotate"),e.classList.remove("loader-animation-rotate"))},m=()=>{p();const e=document.querySelector(".loader");e.classList.contains("loader-animation-translate-rotate")&&(e.classList.remove("loader-animation-translate-rotate"),e.classList.add("loader-animation-rotate"))},p=()=>{const e=document.querySelector(".loader");e.classList.add("display-flex"),e.classList.remove("display-none")},y=()=>{const e=document.querySelector(".loader");e.classList.remove("display-flex"),e.classList.add("display-none")},v=e=>{const t=document.querySelector(".results-image"),r=document.querySelector(".locationHeader"),o=document.querySelector(".time-to-trip > p"),s=document.querySelector(".weather-details > h3"),n=document.querySelector(".weather-icon"),a=document.querySelector(".temperature-details-temps"),c=e.response.imageUrl,i=e.response.location.place,l=e.response.daysToTrip,d=e.response.weather.description,u=e.response.weather.iconUrl,m=e.response.weather.highTemp,p=e.response.weather.lowTemp;t.style.cssText=`background-image: url(${c});`,r.innerHTML=i,s.innerHTML=d,n.src=u,a.innerHTML=`${m} / ${p} &deg C`,o.innerHTML=` ${l}   days until your trip`,S()?(document.querySelector("form").classList.add("transformEndPosition"),document.querySelector("#form-section > h2").classList.add("transformEndPosition"),document.querySelector("form").classList.remove("transformStartPosition"),document.querySelector("#form-section > h2").classList.remove("transformStartPosition")):h(),y(),f()};document.querySelector("form").addEventListener("animationend",(e=>{h()}));const h=()=>{document.querySelector(".results").classList.remove("display-none"),document.querySelector(".results").classList.add("display-flex")},S=()=>document.querySelector("form").classList.contains("transformStartPosition"),f=()=>{document.querySelector("form").reset()},L=()=>{q(),document.querySelector("form").classList.remove("transformEndPosition"),document.querySelector("#form-section > h2").classList.remove("transformEndPosition"),document.querySelector("form").classList.add("transformStartPosition"),document.querySelector("#form-section > h2").classList.add("transformStartPosition")},q=()=>{document.querySelector(".results").classList.add("display-none"),document.querySelector(".results").classList.remove("display-flex")},g=e=>{const t=c();if(null==t)return void alert("error adding trip results");const r=t.response.imageUrl,o=t.response.location.place,s=t.response.daysToTrip,n=t.response.weather.description,a=t.response.weather.iconUrl,i=t.response.weather.highTemp,l=t.response.weather.lowTemp,d=w(o,s,a,n,i,l,r),u=document.querySelector("#travel-log");u.classList.contains("section-display-none")&&(u.classList.remove("section-display-none"),u.classList.add("section-display-flex")),d.scrollIntoView({behavior:"smooth",block:"start",inline:"start"}),setTimeout(L,500)},w=(e,r,s,n,a,c,i)=>{let l=b(`<div class="travel-card display-flex shadow">\n      <div class="card-image">\n        <h2 class="locationHeader">${e}</h2>\n      </div>\n      <div class ="card-text">\n        <div class="card-time-to-trip">\n          <img src=${o}>\n          <p>${r}   days until trip</p>\n        </div>\n        <div class="card-divider"></div>\n        <div class="card-weather-section">\n          <img class="card-weather-icon" src="${s}">\n          <div class="card-weather-details">\n            <h3>${n}</h3>\n            <div class="card-temperature-details">\n              <img class="card-temperature-details-image" src=${t}>\n              <h4 class="card-temperature-details-temps">${a} / ${c} &deg C</h4>\n            </div>\n          </div>\n        </div>\n        <button class="remove-trip" >Remove Trip</button>\n      </div>\n      </div>`);l.querySelector(".card-image").style.cssText=`background-image: url(${i});`,l.querySelector(".remove-trip").addEventListener("click",(e=>{e.target.parentElement.parentElement.remove()}));const d=document.querySelector(".add-new-trip");return d.parentElement.insertBefore(l,d),l},b=e=>{let t=document.createElement("template");const r=e.trim();return t.innerHTML=r,t.content.firstChild};document.querySelector(".add-new-trip").addEventListener("click",(e=>{document.querySelector("#form-section").scrollIntoView({behavior:"smooth"})})),document.addEventListener("DOMContentLoaded",(t=>{(()=>{const e=document.querySelector("#form-section");document.querySelector(".call-to-action").addEventListener("click",(t=>{e.scrollIntoView({behavior:"smooth"})}))})();document.querySelector(".results button").addEventListener("click",g);document.querySelector("#search").addEventListener("click",i),document.querySelector(".error-button").addEventListener("click",n),document.querySelector("form").addEventListener("animationend",e.displayResultsCard)}))})()})();