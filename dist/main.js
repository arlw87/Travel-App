(()=>{"use strict";var e={709:(e,t,r)=>{e.exports=r.p+"6a88d6cc138007e5770e.png"},186:(e,t,r)=>{e.exports=r.p+"8afec4b4a994dbd0e696.png"}},t={};function r(o){if(t[o])return t[o].exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e=r(186),t=r(709);const o=e=>{const t=document.querySelector(".error-handler-background");t.classList.add("error-display"),t.classList.remove("error-non-display"),document.querySelector(".error-handler-message-box p").innerHTML=e},s=e=>{const t=document.querySelector(".error-handler-background");t.classList.remove("error-display"),t.classList.add("error-non-display")};let n=null;const a=()=>n,c=e=>{e.preventDefault();const t=document.querySelector("#destination").value,r=document.querySelector("#date").value;if(!(e=>Date.parse(e)-Date.now()>0)(r))return void o("Date must be in the future");if(s=t,!new RegExp("^[a-zA-Z][A-Za-z,\\s]*$").test(s))return void o("Invalid place name");var s;const a={destination:t,date:r};v()?d():(console.log("second search"),L(),u()),l("/query",a).then((e=>{"failure"!==e.status?(y(e),n=e):i(e.message)})).catch((e=>{i("Error with search request")}))},i=e=>{o(e),p(),S(),document.querySelector("form").classList.contains("transformEndPosition")&&f()},l=async(e,t)=>{const r=await fetch(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)});try{return await r.json()}catch(e){throw Error(e)}},d=()=>{m();const e=document.querySelector(".loader");e.classList.contains("loader-animation-translate-rotate")||(e.classList.add("loader-animation-translate-rotate"),e.classList.remove("loader-animation-rotate"))},u=()=>{m();const e=document.querySelector(".loader");e.classList.contains("loader-animation-translate-rotate")&&(e.classList.remove("loader-animation-translate-rotate"),e.classList.add("loader-animation-rotate"))},m=()=>{const e=document.querySelector(".loader");e.classList.add("display-flex"),e.classList.remove("display-none")},p=()=>{const e=document.querySelector(".loader");e.classList.remove("display-flex"),e.classList.add("display-none")},y=e=>{const t=document.querySelector(".results-image"),r=document.querySelector(".locationHeader"),o=document.querySelector(".time-to-trip > p"),s=document.querySelector(".weather-details > h3"),n=document.querySelector(".weather-icon"),a=document.querySelector(".temperature-details-temps"),c=e.response.imageUrl,i=e.response.location.place,l=e.response.daysToTrip,d=e.response.weather.description,u=e.response.weather.iconUrl,m=e.response.weather.highTemp,y=e.response.weather.lowTemp;t.style.cssText=`background-image: url(${c});`,r.innerHTML=i,s.innerHTML=d,n.src=u,a.innerHTML=`${m} / ${y} &deg C`,o.innerHTML=` ${l}   days until your trip`,v()?(document.querySelector("form").classList.add("transformEndPosition"),document.querySelector("#form-section > h2").classList.add("transformEndPosition"),document.querySelector("form").classList.remove("transformStartPosition"),document.querySelector("#form-section > h2").classList.remove("transformStartPosition")):h(),p(),S()};document.querySelector("form").addEventListener("animationend",(e=>{h()}));const h=()=>{document.querySelector(".results").classList.remove("display-none"),document.querySelector(".results").classList.add("display-flex")},v=()=>document.querySelector("form").classList.contains("transformStartPosition"),S=()=>{document.querySelector("form").reset()},f=()=>{L(),document.querySelector("form").classList.remove("transformEndPosition"),document.querySelector("#form-section > h2").classList.remove("transformEndPosition"),document.querySelector("form").classList.add("transformStartPosition"),document.querySelector("#form-section > h2").classList.add("transformStartPosition")},L=()=>{document.querySelector(".results").classList.add("display-none"),document.querySelector(".results").classList.remove("display-flex")},q=e=>{const t=a();if(null==t)return void alert("error adding trip results");const r=t.response.imageUrl,o=t.response.location.place,s=t.response.daysToTrip,n=t.response.weather.description,c=t.response.weather.iconUrl,i=t.response.weather.highTemp,l=t.response.weather.lowTemp,d=g(o,s,c,n,i,l,r),u=document.querySelector("#travel-log");u.classList.contains("section-display-none")&&(u.classList.remove("section-display-none"),u.classList.add("section-display-flex")),d.scrollIntoView({behavior:"smooth",block:"start",inline:"start"}),setTimeout(f,500)},g=(r,o,s,n,a,c,i)=>{let l=w(`<div class="travel-card display-flex shadow">\n      <div class="card-image">\n        <h2 class="locationHeader">${r}</h2>\n      </div>\n      <div class ="card-text">\n        <div class="card-time-to-trip">\n          <img src=${t}>\n          <p>${o}   days until trip</p>\n        </div>\n        <div class="card-divider"></div>\n        <div class="card-weather-section">\n          <img class="card-weather-icon" src="${s}">\n          <div class="card-weather-details">\n            <h3>${n}</h3>\n            <div class="card-temperature-details">\n              <img class="card-temperature-details-image" src=${e}>\n              <h4 class="card-temperature-details-temps">${a} / ${c} &deg C</h4>\n            </div>\n          </div>\n        </div>\n        <button class="remove-trip" >Remove Trip</button>\n      </div>\n      </div>`);l.querySelector(".card-image").style.cssText=`background-image: url(${i});`,l.querySelector(".remove-trip").addEventListener("click",(e=>{e.target.parentElement.parentElement.remove()}));const d=document.querySelector(".add-new-trip");return d.parentElement.insertBefore(l,d),l},w=e=>{let t=document.createElement("template");const r=e.trim();return t.innerHTML=r,t.content.firstChild};document.querySelector(".add-new-trip").addEventListener("click",(e=>{document.querySelector("#form-section").scrollIntoView({behavior:"smooth"})})),document.addEventListener("DOMContentLoaded",(e=>{(()=>{const e=document.querySelector("#form-section");document.querySelector(".call-to-action").addEventListener("click",(t=>{e.scrollIntoView({behavior:"smooth"})}))})();document.querySelector(".results button").addEventListener("click",q);document.querySelector("#search").addEventListener("click",c),document.querySelector(".error-button").addEventListener("click",s)}))})()})();