(()=>{var e={437:()=>{const e=document.querySelector("#form-section");document.querySelector(".call-to-action").addEventListener("click",(t=>{e.scrollIntoView({behavior:"smooth"})}))},709:(e,t,r)=>{"use strict";e.exports=r.p+"6a88d6cc138007e5770e.png"},631:(e,t,r)=>{"use strict";e.exports=r.p+"e9bc89a406b4baa590f7.png"},186:(e,t,r)=>{"use strict";e.exports=r.p+"8afec4b4a994dbd0e696.png"}},t={};function r(o){if(t[o])return t[o].exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{"use strict";r(437);var e=r(186),t=r(709);let o=null;document.querySelector(".results button").addEventListener("click",(e=>{if(null==o)return void alert("error adding trip results");const t=o.response.imageUrl,r=o.response.location.place,n=o.response.daysToTrip,c=o.response.weather.description,i=o.response.weather.iconUrl,l=o.response.weather.highTemp,d=o.response.weather.lowTemp,u=s(r,n,i,c,l,d,t),m=document.querySelector("#travel-log");m.classList.contains("section-display-none")&&(m.classList.remove("section-display-none"),m.classList.add("section-display-flex")),u.scrollIntoView({behavior:"smooth",block:"start",inline:"start"}),setTimeout(a,500)}));const s=(r,o,s,a,c,i,l)=>{let d=n(`<div class="travel-card display-flex shadow">\n    <div class="card-image">\n      <h2 class="locationHeader">${r}</h2>\n    </div>\n    <div class ="card-text">\n      <div class="card-time-to-trip">\n        <img src=${t}>\n        <p>${o} days until trip</p>\n      </div>\n      <div class="card-divider"></div>\n      <div class="card-weather-section">\n        <img class="card-weather-icon" src="${s}">\n        <div class="card-weather-details">\n          <h3>${a}</h3>\n          <div class="card-temperature-details">\n            <img class="card-temperature-details-image" src=${e}>\n            <h4 class="card-temperature-details-temps">${c} / ${i} &deg C</h4>\n          </div>\n        </div>\n      </div>\n      <button class="remove-trip" >Remove Trip</button>\n    </div>\n    </div>`);d.querySelector(".card-image").style.cssText=`background-image: url(${l});`,d.querySelector(".remove-trip").addEventListener("click",(e=>{console.log("I am clicking a delete button"),e.target.parentElement.parentElement.remove()}));const u=document.querySelector(".add-new-trip");return u.parentElement.insertBefore(d,u),d},n=e=>{let t=document.createElement("template");const r=e.trim();return t.innerHTML=r,t.content.firstChild},a=()=>{y(),document.querySelector("form").classList.remove("transformEndPosition"),document.querySelector("#form-section > h2").classList.remove("transformEndPosition"),document.querySelector("form").classList.add("transformStartPosition"),document.querySelector("#form-section > h2").classList.add("transformStartPosition")};document.querySelector(".add-new-trip").addEventListener("click",(e=>{document.querySelector("#form-section").scrollIntoView({behavior:"smooth"})}));const c=e=>{const t=document.querySelector(".error-handler-background");t.classList.add("error-display"),t.classList.remove("error-non-display"),document.querySelector(".error-handler-message-box p").innerHTML=e};document.querySelector(".error-button").addEventListener("click",(e=>{const t=document.querySelector(".error-handler-background");t.classList.remove("error-display"),t.classList.add("error-non-display")}));document.querySelector("#search").addEventListener("click",(e=>{console.log("click"),e.preventDefault();const t=document.querySelector("#destination").value,r=document.querySelector("#date").value;if(!(e=>Date.parse(e)-Date.now()>0)(r))return console.log("Date in the past"),void c("Date must be in the future");if(s=t,!new RegExp("^[a-zA-Z][A-Za-z,\\s]*$").test(s))return console.log("Not a validate place name"),void c("Invalid place name");var s;const n={destination:t,date:r};h()?(console.log("first search"),l()):(console.log("Not first search"),y(),u()),i("http://localhost:8000/query",n).then((e=>{if(console.log("results"),console.log(e),"failure"===e.status)return c(e.message),d(),void v();m(e),o=e})).catch((e=>{console.log(e)}))}));const i=async(e,t)=>{const r=await fetch(e,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)});try{return await r.json()}catch(e){throw Error(e)}},l=()=>{const e=document.querySelector(".loader");e.classList.add("display-flex"),e.classList.remove("display-none")},d=()=>{const e=document.querySelector(".loader");e.classList.remove("display-flex"),e.classList.add("display-none")},u=()=>{const e=document.querySelector(".loader");e.classList.add("display-flex"),e.classList.remove("display-none"),e.classList.contains("loader-animation-translate-rotate")&&(e.classList.remove("loader-animation-translate-rotate"),e.classList.add("loader-animation-rotate"))},m=e=>{console.log("From displayResults function"),console.log(e);const t=document.querySelector(".results-image"),r=document.querySelector(".locationHeader"),o=document.querySelector(".time-to-trip > p"),s=document.querySelector(".weather-details > h3"),n=document.querySelector(".weather-icon"),a=document.querySelector(".temperature-details-temps"),c=e.response.imageUrl,i=e.response.location.place,l=e.response.daysToTrip,u=e.response.weather.description,m=e.response.weather.iconUrl,y=e.response.weather.highTemp,f=e.response.weather.lowTemp;t.style.cssText=`background-image: url(${c});`,r.innerHTML=i,s.innerHTML=u,n.src=m,a.innerHTML=`${y} / ${f} &deg C`,o.innerHTML=` ${l} days until your trip`,h()?(document.querySelector("form").classList.add("transformEndPosition"),document.querySelector("#form-section > h2").classList.add("transformEndPosition"),document.querySelector("form").classList.remove("transformStartPosition"),document.querySelector("#form-section > h2").classList.remove("transformStartPosition")):p(),d(),v()};document.querySelector("form").addEventListener("animationend",(e=>{console.log("Animation has ended"),p()}));const p=()=>{document.querySelector(".results").classList.remove("display-none"),document.querySelector(".results").classList.add("display-flex")},y=()=>{document.querySelector(".results").classList.add("display-none"),document.querySelector(".results").classList.remove("display-flex")},h=()=>document.querySelector("form").classList.contains("transformStartPosition"),v=()=>{document.querySelector("form").reset()};r(631)})()})();